<template>
    <div class="l-p-c d-flex flex-column">
        <!--顶上窗口操作 -->
        <div class="flex-nowrap d-flex flex-nowrap col p-0 pt-2">
            <div class="d-flex nav-box p-4 flex-column">
                <div class="logo d-flex justify-content-center mt-2 mb-2">
                    <!--logo -->
                    <span v-if="!accountShow.isLight">
                        <svg v-if="accountShow.isUnis" width="88" height="33" viewBox="0 0 88 33" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M5.18663 23.1709C5.18663 26.2364 7.07483 28.2246 10.3911 28.2246C13.7043 28.2246 15.5777 26.2364 15.5777 23.1709V8.49133H20.7643V23.6522C20.7643 28.9379 16.7296 32.5162 10.3911 32.5162C4.05252 32.5162 0 28.9379 0 23.6522V8.49133H5.18663V23.1709Z"
                                fill="white" />
                            <path
                                d="M41.7603 17.2322C41.7603 14.1668 39.8721 12.1785 36.5558 12.1785C33.2426 12.1785 31.3692 14.1668 31.3692 17.2322V31.9118H26.1855V16.7509C26.1855 11.4652 30.2203 7.88696 36.5588 7.88696C42.8944 7.88696 46.9469 11.4652 46.9469 16.7509V31.9118H41.7603V17.2322Z"
                                fill="white" />
                            <path d="M52.0059 31.9119V8.50012H57.1925V31.9119H52.0059Z" fill="white" />
                            <path
                                d="M51.6318 2.83622C51.6318 1.25195 52.9856 0 54.6067 0C56.2306 0 57.5637 1.25195 57.5637 2.83622C57.5637 4.40331 56.2277 5.65526 54.6067 5.65526C52.9856 5.65526 51.6318 4.40044 51.6318 2.83622Z"
                                fill="white" />
                            <path
                                d="M82.4722 12.0268C82.4722 10.7548 83.5142 9.75208 84.8295 9.75208C86.1476 9.75208 87.1868 10.7548 87.1868 12.0268C87.1868 13.2988 86.1476 14.3044 84.8295 14.3044C83.5142 14.3072 82.4722 13.2988 82.4722 12.0268ZM86.8008 12.0268C86.8008 10.9611 85.9369 10.1245 84.8295 10.1245C83.728 10.1245 82.8581 10.9639 82.8581 12.0268C82.8581 13.0897 83.728 13.9348 84.8295 13.9348C85.9369 13.9348 86.8008 13.0925 86.8008 12.0268ZM83.9447 13.1154V10.8407H85.0076C85.4707 10.8407 85.8122 11.1186 85.8122 11.5398C85.8122 11.9065 85.5865 12.1442 85.254 12.2101L85.919 13.1154H85.4707L84.8384 12.2588H84.3129V13.1154H83.9447ZM84.3129 11.9494H84.9066C85.251 11.9494 85.4114 11.8091 85.4114 11.5484C85.4114 11.3106 85.2421 11.1645 84.9185 11.1645H84.3129V11.9494Z"
                                fill="white" />
                            <path
                                d="M74.0672 18.2663L71.0805 17.6647C68.177 17.0631 66.9924 16.2008 66.9924 14.7196C66.9924 12.8804 68.7084 11.6943 71.3032 11.6943C73.803 11.6943 75.617 12.9377 75.8664 14.8457C75.8842 14.9803 75.902 15.1981 75.902 15.3957H80.7502C80.7502 15.3957 80.7502 15.1293 80.7472 14.9116V14.8629C80.5928 10.7145 76.7303 7.83533 71.2676 7.83533C65.5495 7.83533 61.788 10.7317 61.788 15.1064C61.788 18.6674 64.0027 20.8648 68.5184 21.7758L71.7456 22.4433C74.7857 23.0765 76.0208 23.9732 76.0208 25.5173C76.0208 27.3394 74.1147 28.6229 71.419 28.6229C68.5006 28.6229 66.4728 27.3709 66.2324 25.4171C66.1997 25.1793 66.2027 24.9071 66.2027 24.9071H61.2061L61.215 25.2853L61.2298 25.5632C61.5 29.8204 65.3061 32.5076 71.1429 32.5076C77.3597 32.5076 81.1896 29.6112 81.1896 24.9272C81.1926 21.3088 79.0461 19.2748 74.0672 18.2663Z"
                                fill="white" />
                        </svg>
                        <svg v-if="!accountShow.isUnis" width="85" height="32" viewBox="0 0 85 32" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.4579 8.65271H14.1887C11.6466 8.65271 9.58594 10.7134 9.58594 13.2554V15.757C9.58594 18.299 11.6466 20.3598 14.1887 20.3598H15.4579C18 20.3598 20.0607 18.299 20.0607 15.757V13.2554C20.0607 10.7134 18 8.65271 15.4579 8.65271Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.5742 20.3592L10.8207 28.3693L14.5176 30.834L18.8308 28.3693V19.5582L14.7025 20.7166L10.8022 19.5582L10.5742 20.3592Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.4688 28.405L14.8558 31.7877V11.8734H10.5858L10.4688 28.405Z" fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M19.2445 27.4804L14.8574 30.8693V10.9489H19.1274L19.2445 27.4804Z" fill="#DBDBDB" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.8496 9.16349V13.8217L14.8547 16.1569L18.8597 13.8217V9.16349L14.8547 6.82825L10.8496 9.16349Z"
                                fill="#E2E2E2" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.2226 0.439014C14.2269 -0.146338 15.4592 -0.146338 16.4636 0.439014L27.2587 6.76082C28.263 7.34617 28.8792 8.43677 28.8792 9.60748V22.2572C28.8792 23.4341 28.263 24.5186 27.2587 25.1039L16.4636 31.4257C15.4592 32.0111 14.2269 32.0111 13.2226 31.4257L2.42128 25.1039C1.41694 24.5186 0.800781 23.4279 0.800781 22.2572V9.60748C0.800781 8.43061 1.41694 7.34617 2.42128 6.76082L13.2226 0.439014ZM14.4364 12.0598C14.689 11.9119 14.9971 11.9119 15.2497 12.0598L17.9485 13.6433C18.2011 13.7912 18.3552 14.0623 18.3552 14.3581V17.519C18.3552 17.8147 18.2011 18.0858 17.9485 18.2337L15.2497 19.8172C14.9971 19.9651 14.689 19.9651 14.4364 19.8172L11.7376 18.2337C11.485 18.0858 11.331 17.8147 11.331 17.519V14.3581C11.331 14.0623 11.485 13.7912 11.7376 13.6433L14.4364 12.0598ZM11.331 20.9325C11.331 20.76 11.3864 20.5936 11.4788 20.4581C11.5466 20.5505 11.6329 20.6367 11.7376 20.6984L14.4364 22.2819C14.689 22.4298 14.9971 22.4298 15.2497 22.2819L17.9485 20.6984C18.0533 20.6367 18.1395 20.5566 18.2073 20.4581C18.2997 20.5936 18.3552 20.76 18.3552 20.9325V24.0934C18.3552 24.0934 18.3552 24.1365 18.3552 24.155C18.3552 24.1735 18.3552 24.1982 18.3552 24.2166V27.3775C18.3552 27.6733 18.2011 27.9444 17.9485 28.0923L15.2497 29.6758C14.9971 29.8237 14.689 29.8237 14.4364 29.6758L11.7376 28.0923C11.485 27.9444 11.331 27.6733 11.331 27.3775V24.2166C11.331 24.2166 11.331 24.1735 11.331 24.155C11.331 24.1365 11.331 24.1119 11.331 24.0934V20.9325Z"
                                fill="#753BBD" />
                            <path d="M34.5703 12.6301H37.7145V25.3588H34.5703V12.6301Z" fill="white" />
                            <path
                                d="M42.7065 25.3598V15.2595H40.2598V12.6311H42.7065V8.66223H45.8507V12.6311H48.3236V15.2595H45.8507V25.3598H42.7065Z"
                                fill="white" />
                            <path
                                d="M49.5918 18.9938C49.5918 14.9987 52.1938 12.2413 55.9305 12.2413C59.6673 12.2413 62.1665 14.7932 62.1665 18.7598V19.7132L52.5808 19.7395C52.8125 21.9808 53.9976 23.1157 56.0858 23.1157C57.8131 23.1157 58.9457 22.4466 59.3065 21.2352H62.2189C61.6789 24.0188 59.359 25.6938 56.0355 25.6938C52.2484 25.6938 49.594 22.9364 49.594 18.9938H49.5918ZM52.6573 17.7321H59.0485C59.0485 15.9806 57.8372 14.8194 55.9567 14.8194C54.0763 14.8194 52.9678 15.8253 52.6595 17.7321H52.6573Z"
                                fill="white" />
                            <path
                                d="M64.6914 25.3587V12.63H67.5776L67.8356 14.1235C68.4806 13.0673 69.7685 12.2429 71.5986 12.2429C73.5315 12.2429 74.8718 13.1963 75.5409 14.6658C76.1859 13.1963 77.6793 12.2429 79.6122 12.2429C82.7039 12.2429 84.4051 14.0972 84.4051 17.0361V25.3587H81.2871V17.8605C81.2871 16.0303 80.3075 15.0769 78.8141 15.0769C77.3207 15.0769 76.1335 16.0565 76.1335 18.1426V25.3587H72.9892V17.8343C72.9892 16.0565 72.0359 15.1031 70.5425 15.1031C69.0491 15.1031 67.8378 16.0827 67.8378 18.1448V25.3609H64.6936L64.6914 25.3587Z"
                                fill="white" />
                            <path
                                d="M37.2347 6.43005H35.0712C34.7935 6.43005 34.5684 6.67285 34.5684 6.97234V9.30556C34.5684 9.60506 34.7935 9.84785 35.0712 9.84785H37.2347C37.5125 9.84785 37.7376 9.60506 37.7376 9.30556V6.97234C37.7376 6.67285 37.5125 6.43005 37.2347 6.43005Z"
                                fill="white" />
                        </svg>
                        <div v-if="!accountShow.isUnis" style="font-size: 20px;color: white;font-weight: 600;">Devices
                            Hub</div>

                        <!-- <svg v-if="accountShow.isSaas" width="120" height="36" viewBox="0 0 120 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10.4689 27.6969C8.67209 27.7417 6.89875 27.285 5.35141 26.3788C3.91164 25.506 2.75227 24.2452 2.00874 22.7437C1.19926 21.077 0.797403 19.2448 0.835743 17.3955C0.795162 15.5357 1.20668 13.6935 2.03558 12.0245C2.79281 10.5308 3.96094 9.27981 5.40508 8.41593C6.94142 7.53349 8.69359 7.08793 10.4689 7.12826C12.2657 7.08338 14.0391 7.54012 15.5864 8.44632C17.0241 9.31779 18.1841 10.5739 18.9329 12.07C19.7158 13.7456 20.1213 15.5699 20.1213 17.4164C20.1213 19.2628 19.7158 21.0871 18.9329 22.7627C18.1821 24.2621 17.0178 25.5198 15.5749 26.3902C14.0289 27.2883 12.2605 27.7408 10.4689 27.6969ZM10.4689 24.1415C12.3524 24.1415 13.7579 23.5084 14.6856 22.2423C15.6132 20.9761 16.0784 19.3555 16.0809 17.3803C16.0809 15.3544 15.6107 13.7274 14.6702 12.4993C13.7298 11.2711 12.3242 10.6608 10.4536 10.6684C9.34785 10.6327 8.25801 10.9365 7.33324 11.5383C6.4966 12.1271 5.85601 12.9497 5.49324 13.9009C5.07304 15.018 4.86887 16.2035 4.89141 17.3955C4.89141 19.439 5.36547 21.0749 6.31358 22.3031C7.26169 23.5312 8.6468 24.144 10.4689 24.1415Z"
                                fill="#ffffff" />
                            <path
                                d="M24.1042 35.8217V7.67522H27.4929V21.6953H27.9299V35.8217H24.1042ZM33.3541 27.7044C31.6692 27.7572 30.0115 27.274 28.6237 26.3256C27.3306 25.3921 26.3289 24.1165 25.7334 22.6449C24.43 19.2631 24.43 15.524 25.7334 12.1422C26.3184 10.6721 27.3161 9.39881 28.6084 8.4729C29.989 7.54317 31.6321 7.07229 33.3004 7.12825C34.9882 7.08848 36.6484 7.55737 38.0614 8.4729C39.4178 9.38591 40.4925 10.6533 41.1664 12.1346C41.9176 13.7869 42.2907 15.5835 42.2589 17.3955C42.2879 19.2048 41.919 20.9987 41.1779 22.6525C40.5164 24.1384 39.4556 25.4156 38.1112 26.3446C36.7038 27.2699 35.0425 27.7421 33.3541 27.6968V27.7044ZM32.8289 24.2858C33.9093 24.3262 34.9715 24.0021 35.8419 23.3666C36.6583 22.7211 37.2758 21.8618 37.6244 20.8862C38.0335 19.7677 38.2348 18.585 38.2186 17.3955C38.2346 16.2145 38.0333 15.0406 37.6244 13.9313C37.2728 12.9523 36.6448 12.094 35.8151 11.4585C34.9092 10.8154 33.8119 10.4918 32.6986 10.5393C31.6488 10.4972 30.6146 10.8018 29.7584 11.4053C28.9523 12.0212 28.3513 12.8628 28.0334 13.8211C27.6436 14.9724 27.4556 16.1813 27.4776 17.3955C27.4559 18.6074 27.6399 19.8144 28.0219 20.966C28.3383 21.9323 28.9423 22.7811 29.7546 23.4008C30.6512 24.027 31.7332 24.3385 32.8289 24.2858Z"
                                fill="#ffffff" />
                            <path
                                d="M54.9855 27.6969C53.1869 27.7353 51.4106 27.2959 49.8412 26.4244C48.3729 25.5891 47.1759 24.3556 46.3912 22.869C45.5496 21.2364 45.1307 19.422 45.1722 17.5892C45.1241 15.6738 45.5395 13.7748 46.3835 12.051C47.1355 10.5464 48.3076 9.28728 49.7607 8.42352C51.2921 7.54674 53.0372 7.10392 54.8054 7.14345C56.6115 7.08988 58.3928 7.56984 59.9229 8.52228C61.3582 9.47694 62.4612 10.8472 63.0815 12.4461C63.8128 14.3745 64.0958 16.4415 63.9095 18.4932H60.103V17.122C60.08 14.8581 59.6456 13.1855 58.7997 12.1042C57.9538 11.0229 56.676 10.4823 54.9664 10.4823C53.0599 10.4823 51.6275 11.0774 50.6692 12.2676C49.7109 13.4577 49.2317 15.1772 49.2317 17.4259C49.2317 19.5682 49.7109 21.2256 50.6692 22.398C51.6275 23.5705 53.0114 24.1567 54.8207 24.1567C55.8987 24.1809 56.9617 23.9031 57.8874 23.3552C58.7739 22.7976 59.4794 21.9983 59.919 21.0534L63.6489 22.2271C62.9441 23.9029 61.7285 25.3186 60.172 26.2762C58.6147 27.2289 56.8155 27.7217 54.9855 27.6969ZM47.9667 18.478V15.5342H62.0044V18.478H47.9667Z"
                                fill="#ffffff" />
                            <path
                                d="M67.9883 27.1536V7.66759H71.3731V12.3967L70.9016 11.7813C71.1364 11.1676 71.4549 10.5886 71.8485 10.0606C72.2171 9.55528 72.6725 9.11814 73.1939 8.76914C73.7012 8.40318 74.2641 8.1198 74.8615 7.92968C75.4725 7.73195 76.1061 7.61072 76.7475 7.56883C77.3676 7.52652 77.9907 7.55969 78.6028 7.66759V11.2039C77.9038 11.0322 77.1798 10.9834 76.4638 11.0596C75.7331 11.1302 75.0278 11.3632 74.4006 11.7414C73.7734 12.1195 73.2404 12.6331 72.8413 13.2437C72.4769 13.8281 72.2175 14.4707 72.0746 15.1429C71.9139 15.8638 71.8342 16.6002 71.837 17.3384V27.1688L67.9883 27.1536Z"
                                fill="#ffffff" />
                            <path
                                d="M87.0667 27.6969C85.7979 27.7381 84.539 27.4624 83.4058 26.8954C82.4743 26.4076 81.7009 25.6689 81.1748 24.7644C80.6666 23.8764 80.4023 22.8719 80.4082 21.851C80.3887 20.9569 80.5693 20.0696 80.9372 19.2529C81.2944 18.5029 81.8314 17.8509 82.5012 17.3537C83.2717 16.7891 84.1338 16.3587 85.0503 16.0812C86.0275 15.8045 87.0192 15.5813 88.0212 15.4127C89.1252 15.2202 90.2867 15.0404 91.5057 14.8733L95.1397 14.3681L93.7558 15.1278C93.7788 13.6084 93.453 12.4689 92.7822 11.7282C92.1113 10.9875 90.9498 10.619 89.3322 10.619C88.3393 10.6088 87.3607 10.8535 86.4917 11.3293C86.049 11.5842 85.6618 11.9236 85.3525 12.3279C85.0433 12.7321 84.8181 13.1932 84.69 13.6844L81.1365 12.6018C81.5758 10.9968 82.5566 9.58921 83.9157 8.61344C85.2803 7.62838 87.0973 7.13584 89.3667 7.13584C90.9472 7.09949 92.5167 7.40408 93.9667 8.02848C95.2356 8.59444 96.2543 9.59717 96.834 10.8507C97.1474 11.4848 97.3447 12.169 97.4167 12.8715C97.4909 13.6289 97.5267 14.3896 97.524 15.1506V27.1461H94.1583V22.6981L94.81 23.2869C94.1046 24.6596 93.0301 25.8125 91.705 26.6181C90.2835 27.3807 88.6821 27.7531 87.0667 27.6969ZM87.7375 24.6125C88.6955 24.6381 89.6465 24.4444 90.5167 24.0465C91.2432 23.7079 91.8837 23.2121 92.3912 22.5955C92.8388 22.0595 93.1574 21.4295 93.3227 20.7533C93.5378 20.1249 93.6567 19.468 93.6753 18.8047C93.706 18.083 93.7213 17.5056 93.7213 17.0726L94.9595 17.5246L91.682 18.0108C90.7007 18.1551 89.8062 18.297 88.9987 18.4362C88.2822 18.5563 87.5742 18.7212 86.8788 18.93C86.3926 19.0959 85.926 19.3137 85.4873 19.5796C85.1005 19.8128 84.7706 20.128 84.5213 20.5026C84.2743 20.8963 84.1503 21.3535 84.1648 21.8169C84.1553 22.3242 84.2953 22.8233 84.5676 23.2531C84.84 23.6828 85.2328 24.0246 85.6982 24.2365C86.3413 24.5146 87.0402 24.6432 87.7413 24.6125H87.7375Z"
                                fill="#ffffff" />
                            <path
                                d="M110.649 27.6968C109.074 27.7277 107.515 27.377 106.107 26.675C104.827 26.0328 103.754 25.0486 103.01 23.8338C102.246 22.5584 101.858 21.0964 101.89 19.6137C101.875 18.1805 102.24 16.7685 102.948 15.519C103.678 14.2538 104.775 13.2349 106.095 12.5942L106.023 13.8933C104.961 13.2626 104.075 12.3786 103.447 11.3217C102.84 10.2714 102.529 9.07898 102.546 7.86891C102.51 6.51504 102.871 5.17992 103.585 4.02487C104.282 2.93714 105.276 2.0678 106.452 1.5179C107.771 0.934315 109.199 0.63269 110.644 0.63269C112.088 0.63269 113.516 0.934315 114.835 1.5179C116.008 2.06916 117 2.93836 117.695 4.02487C118.343 5.12615 118.699 6.37176 118.732 7.64608C118.764 8.92039 118.471 10.1821 117.879 11.3141C117.254 12.391 116.348 13.2817 115.257 13.8933L115.2 12.6322C116.523 13.2479 117.623 14.2517 118.351 15.5076C119.068 16.7583 119.439 18.1751 119.424 19.6137C119.455 21.0973 119.065 22.5598 118.297 23.8338C117.545 25.0485 116.468 26.0322 115.184 26.675C113.778 27.3742 112.222 27.7248 110.649 27.6968ZM110.649 24.1073C111.894 24.1649 113.115 23.7583 114.073 22.9677C114.947 22.2081 115.384 21.0926 115.384 19.6213C115.384 18.15 114.949 17.0282 114.08 16.2559C113.098 15.5022 111.89 15.0932 110.648 15.0932C109.405 15.0932 108.197 15.5022 107.215 16.2559C106.348 17.0308 105.915 18.1526 105.915 19.6213C105.915 21.09 106.352 22.2055 107.226 22.9677C108.183 23.7583 109.405 24.1649 110.649 24.1073ZM110.649 11.4774C111.699 11.5243 112.732 11.2073 113.57 10.581C114.318 9.98844 114.69 9.06162 114.69 7.86891C114.69 6.6762 114.306 5.74178 113.57 5.13403C112.712 4.54036 111.69 4.22203 110.644 4.22203C109.597 4.22203 108.575 4.54036 107.717 5.13403C106.966 5.74178 106.59 6.65341 106.59 7.86891C106.59 9.08062 106.973 9.98844 107.717 10.581C108.56 11.2076 109.597 11.5245 110.649 11.4774Z"
                                fill="#E52628" />
                        </svg> -->
                    </span>
                    <span v-if="accountShow.isLight">
                        <svg v-if="accountShow.isUnis" width="88" height="33" viewBox="0 0 88 33" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M5.18663 23.1711C5.18663 26.2365 7.07483 28.2247 10.3911 28.2247C13.7043 28.2247 15.5777 26.2365 15.5777 23.1711V8.49146H20.7643V23.6524C20.7643 28.9381 16.7296 32.5163 10.3911 32.5163C4.05252 32.5163 0 28.9381 0 23.6524V8.49146H5.18663V23.1711Z"
                                fill="#D61515" />
                            <path
                                d="M41.7603 17.2322C41.7603 14.1668 39.8721 12.1785 36.5558 12.1785C33.2426 12.1785 31.3692 14.1668 31.3692 17.2322V31.9118H26.1855V16.7509C26.1855 11.4652 30.2203 7.88696 36.5588 7.88696C42.8944 7.88696 46.9469 11.4652 46.9469 16.7509V31.9118H41.7603V17.2322Z"
                                fill="#009D48" />
                            <path d="M52.0059 31.912V8.50024H57.1925V31.912H52.0059Z" fill="#009BD9" />
                            <path
                                d="M51.6318 2.83622C51.6318 1.25195 52.9856 0 54.6067 0C56.2306 0 57.5637 1.25195 57.5637 2.83622C57.5637 4.40331 56.2277 5.65526 54.6067 5.65526C52.9856 5.65526 51.6318 4.40044 51.6318 2.83622Z"
                                fill="#009BD9" />
                            <path
                                d="M82.4722 12.0267C82.4722 10.7547 83.5142 9.75195 84.8295 9.75195C86.1476 9.75195 87.1868 10.7547 87.1868 12.0267C87.1868 13.2987 86.1476 14.3042 84.8295 14.3042C83.5142 14.3071 82.4722 13.2987 82.4722 12.0267ZM86.8008 12.0267C86.8008 10.9609 85.9369 10.1244 84.8295 10.1244C83.728 10.1244 82.8581 10.9638 82.8581 12.0267C82.8581 13.0895 83.728 13.9347 84.8295 13.9347C85.9369 13.9347 86.8008 13.0924 86.8008 12.0267ZM83.9447 13.1153V10.8406H85.0076C85.4707 10.8406 85.8122 11.1185 85.8122 11.5396C85.8122 11.9063 85.5865 12.1441 85.254 12.21L85.919 13.1153H85.4707L84.8384 12.2587H84.3129V13.1153H83.9447ZM84.3129 11.9493H84.9066C85.251 11.9493 85.4114 11.8089 85.4114 11.5482C85.4114 11.3104 85.2421 11.1643 84.9185 11.1643H84.3129V11.9493Z"
                                fill="#808080" />
                            <path
                                d="M74.0672 18.2662L71.0805 17.6646C68.177 17.063 66.9924 16.2006 66.9924 14.7195C66.9924 12.8802 68.7084 11.6942 71.3032 11.6942C73.803 11.6942 75.617 12.9375 75.8664 14.8456C75.8842 14.9802 75.902 15.1979 75.902 15.3956H80.7502C80.7502 15.3956 80.7502 15.1292 80.7472 14.9114V14.8627C80.5928 10.7144 76.7303 7.83521 71.2676 7.83521C65.5495 7.83521 61.788 10.7316 61.788 15.1063C61.788 18.6673 64.0027 20.8647 68.5184 21.7757L71.7456 22.4432C74.7857 23.0763 76.0208 23.973 76.0208 25.5172C76.0208 27.3393 74.1147 28.6227 71.419 28.6227C68.5006 28.6227 66.4728 27.3708 66.2324 25.4169C66.1997 25.1792 66.2027 24.907 66.2027 24.907H61.2061L61.215 25.2852L61.2298 25.5631C61.5 29.8203 65.3061 32.5075 71.1429 32.5075C77.3597 32.5075 81.1896 29.6111 81.1896 24.927C81.1926 21.3087 79.0461 19.2746 74.0672 18.2662Z"
                                fill="#FFCB05" />
                        </svg>
                        <svg v-if="!accountShow.isUnis" width="85" height="32" viewBox="0 0 85 32" fill="none"
                            xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M15.2587 8.65271H13.9894C11.4474 8.65271 9.38672 10.7134 9.38672 13.2554V15.757C9.38672 18.299 11.4474 20.3598 13.9894 20.3598H15.2587C17.8007 20.3598 19.8614 18.299 19.8614 15.757V13.2554C19.8614 10.7134 17.8007 8.65271 15.2587 8.65271Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.375 20.3592L10.6215 28.3693L14.3184 30.834L18.6315 28.3693V19.5582L14.5033 20.7166L10.603 19.5582L10.375 20.3592Z"
                                fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.2695 28.405L14.6566 31.7877V11.8734H10.3866L10.2695 28.405Z" fill="white" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M19.0453 27.4804L14.6582 30.8693V10.9489H18.9282L19.0453 27.4804Z" fill="#DBDBDB" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M10.6504 9.16349V13.8217L14.6554 16.1569L18.6605 13.8217V9.16349L14.6554 6.82825L10.6504 9.16349Z"
                                fill="#E2E2E2" />
                            <path fill-rule="evenodd" clip-rule="evenodd"
                                d="M13.0234 0.439014C14.0277 -0.146338 15.26 -0.146338 16.2644 0.439014L27.0595 6.76082C28.0638 7.34617 28.68 8.43677 28.68 9.60748V22.2572C28.68 23.4341 28.0638 24.5186 27.0595 25.1039L16.2644 31.4257C15.26 32.0111 14.0277 32.0111 13.0234 31.4257L2.22206 25.1039C1.21772 24.5186 0.601562 23.4279 0.601562 22.2572V9.60748C0.601562 8.43061 1.21772 7.34617 2.22206 6.76082L13.0234 0.439014ZM14.2372 12.0598C14.4898 11.9119 14.7979 11.9119 15.0505 12.0598L17.7493 13.6433C18.0019 13.7912 18.156 14.0623 18.156 14.3581V17.519C18.156 17.8147 18.0019 18.0858 17.7493 18.2337L15.0505 19.8172C14.7979 19.9651 14.4898 19.9651 14.2372 19.8172L11.5384 18.2337C11.2858 18.0858 11.1317 17.8147 11.1317 17.519V14.3581C11.1317 14.0623 11.2858 13.7912 11.5384 13.6433L14.2372 12.0598ZM11.1317 20.9325C11.1317 20.76 11.1872 20.5936 11.2796 20.4581C11.3474 20.5505 11.4337 20.6367 11.5384 20.6984L14.2372 22.2819C14.4898 22.4298 14.7979 22.4298 15.0505 22.2819L17.7493 20.6984C17.854 20.6367 17.9403 20.5566 18.0081 20.4581C18.1005 20.5936 18.156 20.76 18.156 20.9325V24.0934C18.156 24.0934 18.156 24.1365 18.156 24.155C18.156 24.1735 18.156 24.1982 18.156 24.2166V27.3775C18.156 27.6733 18.0019 27.9444 17.7493 28.0923L15.0505 29.6758C14.7979 29.8237 14.4898 29.8237 14.2372 29.6758L11.5384 28.0923C11.2858 27.9444 11.1317 27.6733 11.1317 27.3775V24.2166C11.1317 24.2166 11.1317 24.1735 11.1317 24.155C11.1317 24.1365 11.1317 24.1119 11.1317 24.0934V20.9325Z"
                                fill="#753BBD" />
                            <path d="M34.3711 12.6301H37.5153V25.3588H34.3711V12.6301Z" fill="black" />
                            <path
                                d="M42.5073 25.3598V15.2595H40.0605V12.6311H42.5073V8.66223H45.6515V12.6311H48.1244V15.2595H45.6515V25.3598H42.5073Z"
                                fill="black" />
                            <path
                                d="M49.3926 18.9938C49.3926 14.9987 51.9945 12.2413 55.7313 12.2413C59.4681 12.2413 61.9672 14.7932 61.9672 18.7598V19.7132L52.3815 19.7395C52.6133 21.9808 53.7984 23.1157 55.8865 23.1157C57.6139 23.1157 58.7465 22.4466 59.1073 21.2352H62.0197C61.4796 24.0188 59.1598 25.6938 55.8362 25.6938C52.0492 25.6938 49.3948 22.9364 49.3948 18.9938H49.3926ZM52.4581 17.7321H58.8493C58.8493 15.9806 57.6379 14.8194 55.7575 14.8194C53.8771 14.8194 52.7686 15.8253 52.4603 17.7321H52.4581Z"
                                fill="black" />
                            <path
                                d="M64.4922 25.3587V12.63H67.3784L67.6364 14.1235C68.2814 13.0673 69.5693 12.2429 71.3994 12.2429C73.3323 12.2429 74.6726 13.1963 75.3417 14.6658C75.9867 13.1963 77.4801 12.2429 79.413 12.2429C82.5047 12.2429 84.2058 14.0972 84.2058 17.0361V25.3587H81.0879V17.8605C81.0879 16.0303 80.1083 15.0769 78.6149 15.0769C77.1215 15.0769 75.9342 16.0565 75.9342 18.1426V25.3587H72.79V17.8343C72.79 16.0565 71.8367 15.1031 70.3433 15.1031C68.8499 15.1031 67.6386 16.0827 67.6386 18.1448V25.3609H64.4944L64.4922 25.3587Z"
                                fill="black" />
                            <path
                                d="M37.0355 6.43005H34.872C34.5943 6.43005 34.3691 6.67285 34.3691 6.97234V9.30556C34.3691 9.60506 34.5943 9.84785 34.872 9.84785H37.0355C37.3132 9.84785 37.5384 9.60506 37.5384 9.30556V6.97234C37.5384 6.67285 37.3132 6.43005 37.0355 6.43005Z"
                                fill="black" />
                        </svg>
                        <div v-if="!accountShow.isUnis" style="font-size: 20px;font-weight: 600;">Devices Hub</div>

                        <!-- <svg v-if="accountShow.isSaas" width="120" height="36" viewBox="0 0 120 36" fill="none" xmlns="http://www.w3.org/2000/svg">
                            <path
                                d="M10.4689 27.6969C8.67209 27.7417 6.89875 27.285 5.35141 26.3788C3.91164 25.506 2.75227 24.2452 2.00874 22.7437C1.19926 21.077 0.797403 19.2448 0.835743 17.3955C0.795162 15.5357 1.20668 13.6935 2.03558 12.0245C2.79281 10.5308 3.96094 9.27981 5.40508 8.41593C6.94142 7.53349 8.69359 7.08793 10.4689 7.12826C12.2657 7.08338 14.0391 7.54012 15.5864 8.44632C17.0241 9.31779 18.1841 10.5739 18.9329 12.07C19.7158 13.7456 20.1213 15.5699 20.1213 17.4164C20.1213 19.2628 19.7158 21.0871 18.9329 22.7627C18.1821 24.2621 17.0178 25.5198 15.5749 26.3902C14.0289 27.2883 12.2605 27.7408 10.4689 27.6969ZM10.4689 24.1415C12.3524 24.1415 13.7579 23.5084 14.6856 22.2423C15.6132 20.9761 16.0784 19.3555 16.0809 17.3803C16.0809 15.3544 15.6107 13.7274 14.6702 12.4993C13.7298 11.2711 12.3242 10.6608 10.4536 10.6684C9.34785 10.6327 8.25801 10.9365 7.33324 11.5383C6.4966 12.1271 5.85601 12.9497 5.49324 13.9009C5.07304 15.018 4.86887 16.2035 4.89141 17.3955C4.89141 19.439 5.36547 21.0749 6.31358 22.3031C7.26169 23.5312 8.6468 24.144 10.4689 24.1415Z"
                                fill="#444545" />
                            <path
                                d="M24.1042 35.8217V7.67522H27.4929V21.6953H27.9299V35.8217H24.1042ZM33.3541 27.7044C31.6692 27.7572 30.0115 27.274 28.6237 26.3256C27.3306 25.3921 26.3289 24.1165 25.7334 22.6449C24.43 19.2631 24.43 15.524 25.7334 12.1422C26.3184 10.6721 27.3161 9.39881 28.6084 8.4729C29.989 7.54317 31.6321 7.07229 33.3004 7.12825C34.9882 7.08848 36.6484 7.55737 38.0614 8.4729C39.4178 9.38591 40.4925 10.6533 41.1664 12.1346C41.9176 13.7869 42.2907 15.5835 42.2589 17.3955C42.2879 19.2048 41.919 20.9987 41.1779 22.6525C40.5164 24.1384 39.4556 25.4156 38.1112 26.3446C36.7038 27.2699 35.0425 27.7421 33.3541 27.6968V27.7044ZM32.8289 24.2858C33.9093 24.3262 34.9715 24.0021 35.8419 23.3666C36.6583 22.7211 37.2758 21.8618 37.6244 20.8862C38.0335 19.7677 38.2348 18.585 38.2186 17.3955C38.2346 16.2145 38.0333 15.0406 37.6244 13.9313C37.2728 12.9523 36.6448 12.094 35.8151 11.4585C34.9092 10.8154 33.8119 10.4918 32.6986 10.5393C31.6488 10.4972 30.6146 10.8018 29.7584 11.4053C28.9523 12.0212 28.3513 12.8628 28.0334 13.8211C27.6436 14.9724 27.4556 16.1813 27.4776 17.3955C27.4559 18.6074 27.6399 19.8144 28.0219 20.966C28.3383 21.9323 28.9423 22.7811 29.7546 23.4008C30.6512 24.027 31.7332 24.3385 32.8289 24.2858Z"
                                fill="#444545" />
                            <path
                                d="M54.9855 27.6969C53.1869 27.7353 51.4106 27.2959 49.8412 26.4244C48.3729 25.5891 47.1759 24.3556 46.3912 22.869C45.5496 21.2364 45.1307 19.422 45.1722 17.5892C45.1241 15.6738 45.5395 13.7748 46.3835 12.051C47.1355 10.5464 48.3076 9.28728 49.7607 8.42352C51.2921 7.54674 53.0372 7.10392 54.8054 7.14345C56.6115 7.08988 58.3928 7.56984 59.9229 8.52228C61.3582 9.47694 62.4612 10.8472 63.0815 12.4461C63.8128 14.3745 64.0958 16.4415 63.9095 18.4932H60.103V17.122C60.08 14.8581 59.6456 13.1855 58.7997 12.1042C57.9538 11.0229 56.676 10.4823 54.9664 10.4823C53.0599 10.4823 51.6275 11.0774 50.6692 12.2676C49.7109 13.4577 49.2317 15.1772 49.2317 17.4259C49.2317 19.5682 49.7109 21.2256 50.6692 22.398C51.6275 23.5705 53.0114 24.1567 54.8207 24.1567C55.8987 24.1809 56.9617 23.9031 57.8874 23.3552C58.7739 22.7976 59.4794 21.9983 59.919 21.0534L63.6489 22.2271C62.9441 23.9029 61.7285 25.3186 60.172 26.2762C58.6147 27.2289 56.8155 27.7217 54.9855 27.6969ZM47.9667 18.478V15.5342H62.0044V18.478H47.9667Z"
                                fill="#444545" />
                            <path
                                d="M67.9883 27.1536V7.66759H71.3731V12.3967L70.9016 11.7813C71.1364 11.1676 71.4549 10.5886 71.8485 10.0606C72.2171 9.55528 72.6725 9.11814 73.1939 8.76914C73.7012 8.40318 74.2641 8.1198 74.8615 7.92968C75.4725 7.73195 76.1061 7.61072 76.7475 7.56883C77.3676 7.52652 77.9907 7.55969 78.6028 7.66759V11.2039C77.9038 11.0322 77.1798 10.9834 76.4638 11.0596C75.7331 11.1302 75.0278 11.3632 74.4006 11.7414C73.7734 12.1195 73.2404 12.6331 72.8413 13.2437C72.4769 13.8281 72.2175 14.4707 72.0746 15.1429C71.9139 15.8638 71.8342 16.6002 71.837 17.3384V27.1688L67.9883 27.1536Z"
                                fill="#444545" />
                            <path
                                d="M87.0667 27.6969C85.7979 27.7381 84.539 27.4624 83.4058 26.8954C82.4743 26.4076 81.7009 25.6689 81.1748 24.7644C80.6666 23.8764 80.4023 22.8719 80.4082 21.851C80.3887 20.9569 80.5693 20.0696 80.9372 19.2529C81.2944 18.5029 81.8314 17.8509 82.5012 17.3537C83.2717 16.7891 84.1338 16.3587 85.0503 16.0812C86.0275 15.8045 87.0192 15.5813 88.0212 15.4127C89.1252 15.2202 90.2867 15.0404 91.5057 14.8733L95.1397 14.3681L93.7558 15.1278C93.7788 13.6084 93.453 12.4689 92.7822 11.7282C92.1113 10.9875 90.9498 10.619 89.3322 10.619C88.3393 10.6088 87.3607 10.8535 86.4917 11.3293C86.049 11.5842 85.6618 11.9236 85.3525 12.3279C85.0433 12.7321 84.8181 13.1932 84.69 13.6844L81.1365 12.6018C81.5758 10.9968 82.5566 9.58921 83.9157 8.61344C85.2803 7.62838 87.0973 7.13584 89.3667 7.13584C90.9472 7.09949 92.5167 7.40408 93.9667 8.02848C95.2356 8.59444 96.2543 9.59717 96.834 10.8507C97.1474 11.4848 97.3447 12.169 97.4167 12.8715C97.4909 13.6289 97.5267 14.3896 97.524 15.1506V27.1461H94.1583V22.6981L94.81 23.2869C94.1046 24.6596 93.0301 25.8125 91.705 26.6181C90.2835 27.3807 88.6821 27.7531 87.0667 27.6969ZM87.7375 24.6125C88.6955 24.6381 89.6465 24.4444 90.5167 24.0465C91.2432 23.7079 91.8837 23.2121 92.3912 22.5955C92.8388 22.0595 93.1574 21.4295 93.3227 20.7533C93.5378 20.1249 93.6567 19.468 93.6753 18.8047C93.706 18.083 93.7213 17.5056 93.7213 17.0726L94.9595 17.5246L91.682 18.0108C90.7007 18.1551 89.8062 18.297 88.9987 18.4362C88.2822 18.5563 87.5742 18.7212 86.8788 18.93C86.3926 19.0959 85.926 19.3137 85.4873 19.5796C85.1005 19.8128 84.7706 20.128 84.5213 20.5026C84.2743 20.8963 84.1503 21.3535 84.1648 21.8169C84.1553 22.3242 84.2953 22.8233 84.5676 23.2531C84.84 23.6828 85.2328 24.0246 85.6982 24.2365C86.3413 24.5146 87.0402 24.6432 87.7413 24.6125H87.7375Z"
                                fill="#444545" />
                            <path
                                d="M110.649 27.6968C109.074 27.7277 107.515 27.377 106.107 26.675C104.827 26.0328 103.754 25.0486 103.01 23.8338C102.246 22.5584 101.858 21.0964 101.89 19.6137C101.875 18.1805 102.24 16.7685 102.948 15.519C103.678 14.2538 104.775 13.2349 106.095 12.5942L106.023 13.8933C104.961 13.2626 104.075 12.3786 103.447 11.3217C102.84 10.2714 102.529 9.07898 102.546 7.86891C102.51 6.51504 102.871 5.17992 103.585 4.02487C104.282 2.93714 105.276 2.0678 106.452 1.5179C107.771 0.934315 109.199 0.63269 110.644 0.63269C112.088 0.63269 113.516 0.934315 114.835 1.5179C116.008 2.06916 117 2.93836 117.695 4.02487C118.343 5.12615 118.699 6.37176 118.732 7.64608C118.764 8.92039 118.471 10.1821 117.879 11.3141C117.254 12.391 116.348 13.2817 115.257 13.8933L115.2 12.6322C116.523 13.2479 117.623 14.2517 118.351 15.5076C119.068 16.7583 119.439 18.1751 119.424 19.6137C119.455 21.0973 119.065 22.5598 118.297 23.8338C117.545 25.0485 116.468 26.0322 115.184 26.675C113.778 27.3742 112.222 27.7248 110.649 27.6968ZM110.649 24.1073C111.894 24.1649 113.115 23.7583 114.073 22.9677C114.947 22.2081 115.384 21.0926 115.384 19.6213C115.384 18.15 114.949 17.0282 114.08 16.2559C113.098 15.5022 111.89 15.0932 110.648 15.0932C109.405 15.0932 108.197 15.5022 107.215 16.2559C106.348 17.0308 105.915 18.1526 105.915 19.6213C105.915 21.09 106.352 22.2055 107.226 22.9677C108.183 23.7583 109.405 24.1649 110.649 24.1073ZM110.649 11.4774C111.699 11.5243 112.732 11.2073 113.57 10.581C114.318 9.98844 114.69 9.06162 114.69 7.86891C114.69 6.6762 114.306 5.74178 113.57 5.13403C112.712 4.54036 111.69 4.22203 110.644 4.22203C109.597 4.22203 108.575 4.54036 107.717 5.13403C106.966 5.74178 106.59 6.65341 106.59 7.86891C106.59 9.08062 106.973 9.98844 107.717 10.581C108.56 11.2076 109.597 11.5245 110.649 11.4774Z"
                                fill="#E52628" />
                        </svg> -->
                    </span>
                </div>
                <div class="col p-0" v-if="accountShow.isLSO">
                  <div class="nav-ul mt-4">
                    <el-button  type="primary" plain @click="openAutoSorting" style="margin-top: 5px;">
                      Auto Sorting Control System
                    </el-button>
                  </div>
                </div>
                <div class="col p-0">
                    <ul class="nav-ul mt-4">
                        <li :class="currentSelectPrinterType == 'pdf' ? 'active' : ''"
                            @click="changePrinterType('pdf')">
                            <svg width="19" class="print" height="18" viewBox="0 0 19 18" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M15.625 5.33333H3.375C1.9225 5.33333 0.75 6.56167 0.75 8.08333V13.5833H4.25V17.25H14.75V13.5833H18.25V8.08333C18.25 6.56167 17.0775 5.33333 15.625 5.33333ZM13 15.4167H6V10.8333H13V15.4167ZM15.625 9C15.1438 9 14.75 8.5875 14.75 8.08333C14.75 7.57917 15.1438 7.16667 15.625 7.16667C16.1062 7.16667 16.5 7.57917 16.5 8.08333C16.5 8.5875 16.1062 9 15.625 9ZM14.75 0.75H4.25V4.41667H14.75V0.75Z" />
                            </svg>
                            <span class="pl-3" style="font-size: 12px">PDF Printers</span>
                        </li>

                        <li :class="currentSelectPrinterType == 'zpl' ? 'active' : ''"
                            @click="changePrinterType('zpl')">
                            <svg width="18" class="print" height="18" viewBox="0 0 18 18" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M16.7143 5.78571H14.7857V1.28571C14.7853 0.944915 14.6497 0.618024 14.4086 0.377118C14.1677 0.136047 13.8408 0.000440816 13.5 0H4.5C4.1592 0.000430494 3.83231 0.136032 3.5914 0.377118C3.35033 0.618046 3.21473 0.944927 3.21429 1.28571V5.78571H1.28571C0.944915 5.78614 0.618024 5.92175 0.377118 6.16283C0.136047 6.40376 0.000440816 6.73064 0 7.07143V14.1429C0.000430494 14.4837 0.136032 14.8105 0.377118 15.0515C0.618046 15.2925 0.944927 15.4281 1.28571 15.4286H3.85714V16.7143C3.85757 17.0551 3.99318 17.382 4.23426 17.6229C4.47519 17.864 4.80207 17.9996 5.14286 18H12.8571C13.1979 17.9996 13.5248 17.864 13.7657 17.6229C14.0068 17.382 14.1424 17.0551 14.1429 16.7143V15.4286H16.7143C17.0551 15.4281 17.382 15.2925 17.6229 15.0515C17.864 14.8105 17.9996 14.4836 18 14.1429V7.07143C17.9996 6.73063 17.864 6.40374 17.6229 6.16283C17.382 5.92176 17.0551 5.78615 16.7143 5.78571ZM4.5 1.28571H13.5V5.78571H4.5V1.28571ZM5.78571 9C5.78557 8.82953 5.8533 8.66594 5.97384 8.54526C6.09452 8.42473 6.2581 8.357 6.42857 8.35714H7.07143C7.30117 8.35714 7.51339 8.47968 7.62818 8.67857C7.74298 8.87745 7.74298 9.12254 7.62818 9.32142C7.51339 9.52031 7.30116 9.64285 7.07143 9.64285H6.42857C6.2581 9.643 6.09452 9.57527 5.97384 9.45473C5.8533 9.33405 5.78557 9.17047 5.78571 8.99999V9ZM3.21429 9C3.21414 8.82953 3.28187 8.66594 3.40241 8.54526C3.52309 8.42473 3.68667 8.357 3.85715 8.35714H4.5C4.72974 8.35714 4.94196 8.47968 5.05675 8.67857C5.17155 8.87745 5.17155 9.12254 5.05675 9.32142C4.94196 9.52031 4.72973 9.64285 4.5 9.64285H3.85715C3.68668 9.643 3.52309 9.57527 3.40241 9.45473C3.28187 9.33405 3.21414 9.17047 3.21429 8.99999V9ZM5.14286 16.7143V14.1429H12.8571L12.8584 16.7143H5.14286Z" />
                            </svg>
                            <span class="pl-3" style="font-size: 12px">ZPL Printers</span>
                        </li>

                        <li :class="currentSelectPrinterType == 'scale' ? 'active' : ''"
                            @click="changePrinterType('scale')">
                            <svg t="1719386644706" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1561" width="18" height="18"><path d="M872.82 77.73H151.38c-46.47 0-84.28 37.8-84.28 84.27v700.25c0 46.47 37.81 84.27 84.28 84.27h721.45c46.47 0 84.28-37.8 84.28-84.27V162c-0.01-46.47-37.82-84.27-84.29-84.27z m-721.44 58.59h721.45c14.17 0 25.7 11.52 25.7 25.69v566.76c-2.36 4.22-3.81 9.01-3.81 14.19 0 13.71-11.72 24.87-26.12 24.87H155.61c-14.4 0-26.12-11.16-26.12-24.87 0-5.17-1.46-9.97-3.81-14.19V162c0-14.17 11.53-25.68 25.7-25.68z m721.44 751.62H151.38c-14.17 0-25.7-11.52-25.7-25.69v-41.5c9.34 3.5 19.36 5.65 29.93 5.65h712.98c10.57 0 20.59-2.15 29.93-5.65v41.5c0 14.17-11.53 25.69-25.7 25.69z" fill="#666666" p-id="1562"></path><path d="M242.62 369.63c2.45 1.77 5.1 3.04 7.82 3.96l88.14 88.12c-8.65 21.82-13.21 45.27-13.21 68.9 0 16.17 13.11 29.29 29.29 29.29s29.29-13.12 29.29-29.29c0-21.34 5.34-42.43 15.44-61.02 22.46-41.4 65.66-67.12 112.71-67.12 47.83 0 91.35 26.33 113.59 68.75 9.53 18.17 14.57 38.71 14.57 59.4 0 16.17 13.11 29.29 29.29 29.29s29.29-13.12 29.29-29.29c0-23.59-4.65-47.01-13.29-68.82l95.8-95.78c0.61-0.61 0.83-1.42 1.37-2.06 12.22-9.9 14.52-27.74 4.96-40.37C722.12 237 622.31 187.35 513.84 187.35c-109.37 0-213.17 52.84-277.64 141.36-9.53 13.06-6.65 31.39 6.42 40.92z m271.22-123.7c81.52 0 156.92 34.1 210.86 93.88l-70.38 70.37c-35.05-41.45-86.48-66.29-142.22-66.29-18.82 0-37.12 3.07-54.58 8.41l-28.56-38.62c-9.63-13.04-27.97-15.75-40.97-6.14-13.01 9.61-15.75 27.96-6.13 40.96l22.32 30.18c-12.65 8.98-24.12 19.53-34.27 31.52l-68.59-68.57c53.73-60.23 131.16-95.7 212.52-95.7z" fill="#666666" p-id="1563"></path></svg>
                            <span class="pl-3" style="font-size: 12px">Scale</span>
                        </li>
                    </ul>
                </div>
                <div class="col p-0">
                    <div class="nav-ul mt-4">
                        <span style="margin-right: 5px;">IP:</span>
                        <el-select v-model="ip" @change="buildIPQrCode(ip)" style="width: 150px;">
                            <el-option :key="o" :label="o" :value="o" v-for="o in ips"></el-option>
                        </el-select>
                    </div>
                    <div class="nav-ul mt-4">
                        <qrcode-vue style="border: solid 2px white;" :value="ipQrCode.payUrl" :size="ipQrCode.size"
                            level="H" />
                    </div>
                </div>
                <div class="col p-0">
                    <div class="nav-ul mt-4" style="height: 100px;">
                        <div v-if="accountShow.isUnis">
                            <span style="margin-right: 5px;">Server:</span>
                            <el-select v-model="defaultEnvironmentLabel" style="width: 120px;"
                                @change="changeEnvironment()">
                                <el-option :key="o.label" :label="o.label" :value="o.label"
                                    v-for="o in environments"></el-option>
                            </el-select>
                        </div>
                    </div>
                </div>
                <div class="col p-0">
                    <div class="nav-ul mt-4">
                        <el-switch @change="checkFacilities" v-if="accountShow.isUnis" v-model="isConnectToSocket"
                            active-text="Connect To Socket"></el-switch>
                    </div>
                    <div class="nav-ul mt-4" style="height: 100px;">
                        <div v-if="accountShow.isUnis && isConnectToSocket">
                            <span style="margin-right: 5px;">Facility:</span>
                            <el-select v-model="selFacility" :loading="facilitySearching" filterable
                                style="width: 120px;">
                                <el-option :key="o.id" :label="o.name" :value="o.id"
                                    v-for="o in facilities"></el-option>
                            </el-select>
                            <el-button :type="socketConnected ? 'success' : 'primary'" @click="connectSocket"
                                :loading="socketConnecting" style="margin-top: 5px;">
                                <i v-if="socketConnected" class="connected"></i>
                                {{ socketConnected ? "Re Connect Socket" : "Connect Socket" }}
                            </el-button>
                        </div>
                    </div>
                </div>
                <div class="align-self-end d-flex">
                    <div class="l-p-c-switch d-flex">
                        <div class="bilck" :class="accountShow.isLight ? 'mr-auto' : 'ml-auto'"></div>
                        <div class="title-l d-flex align-items-center pl-4" @click="changeTheme('light')">
                            <svg width="16" class="light" height="15" viewBox="0 0 16 15" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M4.50675 3.2267L3.30675 2.03337L2.36675 2.97337L3.56008 4.1667L4.50675 3.2267ZM0.666748 7.00003H2.66675V8.33337H0.666748V7.00003ZM7.33341 0.366699H8.66675V2.33337H7.33341V0.366699ZM12.6934 2.03003L13.6321 2.96803L12.4387 4.16137L11.5007 3.2227L12.6934 2.03003ZM11.4934 12.1067L12.6867 13.3067L13.6267 12.3667L12.4267 11.1734L11.4934 12.1067ZM13.3334 7.00003H15.3334V8.33337H13.3334V7.00003ZM8.00008 3.6667C5.79341 3.6667 4.00008 5.46003 4.00008 7.6667C4.00008 9.87337 5.79341 11.6667 8.00008 11.6667C10.2067 11.6667 12.0001 9.87337 12.0001 7.6667C12.0001 5.46003 10.2067 3.6667 8.00008 3.6667ZM8.00008 10.3334C6.52675 10.3334 5.33341 9.14003 5.33341 7.6667C5.33341 6.19337 6.52675 5.00003 8.00008 5.00003C9.47341 5.00003 10.6667 6.19337 10.6667 7.6667C10.6667 9.14003 9.47341 10.3334 8.00008 10.3334ZM7.33341 13H8.66675V14.9667H7.33341V13ZM2.36675 12.36L3.30675 13.3L4.50008 12.1L3.56008 11.16L2.36675 12.36Z" />
                            </svg>
                            <span class="ml-1"> Light</span>
                        </div>
                        <div class="title-r d-flex align-items-center pl-4" @click="changeTheme('dark')">
                            <svg width="13" class="dark" height="14" viewBox="0 0 13 14" fill="none"
                                xmlns="http://www.w3.org/2000/svg">
                                <path
                                    d="M5.17992 1.9933C4.09325 7.01997 7.67992 10.2666 10.2866 11.1933C9.35992 11.92 8.20659 12.3333 6.99992 12.3333C4.05992 12.3333 1.66659 9.93997 1.66659 6.99997C1.66659 4.69997 3.13325 2.7333 5.17992 1.9933ZM6.99325 0.339966C3.26659 0.339966 0.333252 3.35997 0.333252 6.99997C0.333252 10.68 3.31992 13.6666 6.99992 13.6666C9.47325 13.6666 11.6199 12.32 12.7733 10.32C7.76659 10.1533 4.71325 4.69997 7.22659 0.339966C7.14659 0.339966 7.07325 0.339966 6.99325 0.339966Z" />
                            </svg>

                            <span class="ml-1">Dark</span>
                        </div>
                    </div>
                </div>
            </div>

            <div class="working_area ml-4 mr-4 p-4 d-flex flex-wrap">
                <!-- Installed Printers -->
                <div style="text-align: right;width: 100%;">Installation Date: {{ installationDate }}</div>
                <div class="installed-printers col-5 mr-4 p-0 d-flex flex-column">
                    <div class="installed_title pl-4 d-flex align-items-center">
                        <span style="font-weight: 700"> {{ currentSelectPrinterType === 'scale' ? 'Scale List' : accountShow.isUnis ? 'INSTALLED PRINTERS' : 'Connected Printer' }} </span>
                    </div>
                    <div class="installed_connect col">
                        <ul v-if="currentSelectPrinterType !== 'scale'">
                            <li class="d-flex justify-content-between pl-2 pr-2"
                                v-for="installedPrinter in accountShow.availableSelectPrinters"
                                :key="installedPrinter.id">
                                <span>{{ installedPrinter.printerName }}</span>
                                <span @click="addPrinter(installedPrinter.id)" :class="isSelectedPrinter(installedPrinter.id) ? 'active' : ''
                        ">
                                    <svg width="16" class="xing" height="16" viewBox="0 0 16 16" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path
                                            d="M7.96378 0.500782L7.96347 0.500796C7.60719 0.516689 7.31799 0.761135 7.2185 1.08394L7.21843 1.08418L5.82868 5.60154L1.3198 5.59219L1.3196 5.59219C0.948967 5.59156 0.641502 5.84041 0.537933 6.17502L0.53793 6.17503C0.435451 6.50613 0.544023 6.87777 0.828939 7.09437L0.829274 7.09462L4.50313 9.88277L3.08963 14.4138L3.08962 14.4138C2.98614 14.7456 3.09498 15.1171 3.37933 15.3339L3.3794 15.334C3.67032 15.5557 4.07009 15.5553 4.36066 15.3331L4.36079 15.333L7.99929 12.5482L11.6392 15.333L11.6392 15.3331C11.9302 15.5556 12.3298 15.5552 12.6204 15.334L12.6209 15.3336C12.9053 15.1166 13.0135 14.7447 12.9101 14.4135L11.4967 9.88254L15.1705 7.09439L15.1707 7.09427C15.4556 6.87786 15.5646 6.50641 15.4621 6.1749L15.462 6.17444C15.3583 5.84041 15.0513 5.59123 14.6801 5.59207C14.68 5.59207 14.6799 5.59207 14.6799 5.59207L10.1711 5.60143L8.77974 1.08392C8.77974 1.08392 8.77974 1.08391 8.77974 1.08391C8.67293 0.73712 8.34771 0.48389 7.96378 0.500782Z" />
                                    </svg>
                                </span>
                            </li>
                        </ul>
                        <ul v-else>
                            <li class="d-flex justify-content-between pl-2 pr-2" v-for="scale in accountShow.availableSelectScales" :key="scale.manufacturer">
                                <span style="text-align: left">{{ scale.manufacturer }}</span>
                                <div class="ml-4 states" v-show="scale.isDefault">
                                    DEFAULT
                                </div>
                                <div class="ml-4 but-a pl-0 pr-0" v-show="!scale.isDefault" @click="setDefalutScale(scale.path)">
                                        Set as Default
                                    </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <!-- My favorites-->
                <div class="my-favorites col ml-4 d-flex flex-column" v-if="currentSelectPrinterType !== 'scale'">
                    <div class="installed_title pl-4 d-flex align-items-center">
                        <span style="font-weight: 700"> {{ accountShow.isUnis ? 'MY FAVORITES': 'Selected Printer' }} </span>
                    </div>
                    <div class="installed_connect col">
                        <ul>
                            <li class="d-flex pl-2 pr-2 align-items-center" v-for="printer in accountShow[currentSelectPrinterType]
                        .selectedPrinters" :key="printer.id">
                                <div style="text-align: left">{{ printer.printerName }}</div>
                                <div class="ml-4 states" v-show="printer.isDefault">
                                    DEFAULT
                                </div>
                                <div class="ml-auto" style="text-align: right">
                                    <div class="but-a pr-0" style="display: inline-block; margin-right: 10px"
                                        @click="deletePrinter(printer.id)">
                                        Remove
                                    </div>
                                    <span v-show="!printer.isDefault">|</span>
                                    <div class="but-a pl-0 pr-0" style="
                      white-space: nowrap;
                      display: inline-block;
                      margin-left: 10px;
                    " v-show="!printer.isDefault" @click="setDefalutPrinter(printer.id)">
                                        Set as Default
                                    </div>
                                </div>
                            </li>
                        </ul>
                    </div>
                </div>
                <div class="col-12 p-0 d-flex justify-content-end">
                    <span class="reserved" style="font-size: 20px">Powered by © 2024
                        {{accountShow.isSaas?"Item":"UNIS"}} All Rights Reserved -
                        <span @dblclick="showLog()">V1.2.0</span></span>
                </div>
            </div>
        </div>
    </div>
    <el-dialog v-model="isShowProgress" :show-close="false" :close-on-press-escape="false"
        :close-on-click-modal="false">
        Download Progress
        <el-progress :percentage="progress" />
    </el-dialog>

    <el-dialog v-model="isShowLog" :close-on-press-escape="false" :close-on-click-modal="false">
        <p style="text-align: left" v-for="(log, index) in logs" :key="index">{{ log }}</p>
    </el-dialog>

</template>

<script lang="ts">
import router from '../router'
import { defineComponent, ref, reactive, onMounted, onBeforeUnmount } from 'vue';
import _ from 'lodash'
import fs from 'fs'
import cache from '../shared/cache'
import { ElMessageBox } from 'element-plus'
import { ipcRenderer } from 'electron'
import os from 'os'
import QrcodeVue from 'qrcode.vue'


// declare const window: any;
export default defineComponent({
    name: 'Debug',
    components: {
        QrcodeVue,
    },
    setup() {
        let accountShow = reactive<any>({
            pdf: reactive<any>({
                selectedPrinters: [],
            }),
            zpl: reactive<any>({
                selectedPrinters: [],
            }),
            availableSelectPrinters: [],
            availableSelectScales: [],
            isLight: true,
            isUnis: false,
            isSaas: false,
            isLSO: false,
        })
        let environments = ref<any>([
            {
                label: 'Wise Production',
                requestUrl: 'https://wise.logisticsteam.com/v2',
                socketUrl: 'wss://wise.logisticsteam.com',
            },
            {
                label: 'Wise Stage',
                requestUrl: 'https://stage.logisticsteam.com',
                socketUrl: 'wss://stage.logisticsteam.com',
            },
            {
                label: 'Wise Preview',
                requestUrl: 'https://preview.logisticsteam.com',
                socketUrl: 'wss://preview.logisticsteam.com',
            },
        ]);
        const cacheEnvironment = cache.getCache('environment') || {}
        let defaultEnvironmentLabel = ref(cacheEnvironment.label || environments.value[0].label)
        let logs = ref<any>([]);
        let isShowLog = ref<boolean>(false);
        let ip = ref<any>('');
        let ips = ref<any>([]);
        let isShowProgress = ref<boolean>(false)
        let progress = ref<string>('0')
        let initCheckUpdate = true
        let currentSelectPrinterType = ref<string>('pdf')

        const setDefalutPrinter = (printerId: any) => {
            let selectedPrinters: any = []
            selectedPrinters =
                accountShow[currentSelectPrinterType.value].selectedPrinters
            _.forEach(selectedPrinters, function (selectedPdfPrinter: any) {
                selectedPdfPrinter.isDefault = false
                if (selectedPdfPrinter.id == printerId) {
                    selectedPdfPrinter.isDefault = true
                }
            })
            save()
        }

        const setDefalutScale = (path: any) => {
            accountShow.availableSelectScales.forEach((scale: any) => {
                scale.isDefault = false
                if (scale.path == path) {
                    scale.isDefault = true
                }
            })
            cache.setCache("scales", accountShow.availableSelectScales);
            ipcRenderer.invoke('setDefaultScale', path);
        }

        async function save() {
            let selectedPdfPrinters: any = []
            let selectedZplPrinters: any = []
            _.forEach(
                accountShow['pdf'].selectedPrinters,
                (pdfPrinter: any) => {
                    selectedPdfPrinters.push({
                        printerName: pdfPrinter.printerName,
                        id: pdfPrinter.id,
                        type: 'PDF',
                        isDefault: pdfPrinter.isDefault,
                        isLocal: true,
                    })
                }
            )
            _.forEach(
                accountShow['zpl'].selectedPrinters,
                (zplPrinter: any) => {
                    selectedZplPrinters.push({
                        printerName: zplPrinter.printerName,
                        id: zplPrinter.id,
                        type: 'ZPL',
                        isDefault: zplPrinter.isDefault,
                        isLocal: true,
                    })
                }
            )
            let userHome = cache.getCache('userHome');
            logs.value.unshift(`${new Date().toLocaleString()}: 获取cache-${cache.getCache('userHome')}`)
            // if (!userHome) {
            userHome = await ipcRenderer.invoke('getUserHome')
            console.log('本地home', userHome)
            logs.value.unshift(`${new Date().toLocaleString()}: 获取本地home-${userHome}`)
            // }
            logs.value.unshift(`${new Date().toLocaleString()}: 使用的home目录为${userHome}`)

            let printConfig = cache.getCache('printConfig') || {}
            printConfig.selectedPdfPrinters = selectedPdfPrinters
            printConfig.selectedZplPrinters = selectedZplPrinters
            fs.writeFile(
                userHome + '/printConfig.json',
                JSON.stringify(printConfig),
                (err) => {
                    if (err) {
                        console.log('web写入fail')
                        logs.value.unshift(`${new Date().toLocaleString()}: 添加打印机失败`)
                    } else {
                        console.log('web写入成功')
                        logs.value.unshift(`${new Date().toLocaleString()}: 添加打印机成功`)
                        cache.setCache('printConfig', printConfig)
                    }
                }
            )
        }

        function addPrinter(printerId: any) {
            if (isSelectedPrinter(printerId)) {
                return
            }
            //获取左框选中的打印机对象
            let selectingPrinter = _.filter(
                accountShow.availableSelectPrinters,
                (printer: any) => {
                    return printer.id == printerId
                }
            )
            if (_.isEmpty(selectingPrinter)) {
                return
            }
            //右框添加左框选中的打印机对象
            accountShow[currentSelectPrinterType.value].selectedPrinters =
                _.cloneDeep(
                    _.unionBy(
                        selectingPrinter,
                        accountShow[currentSelectPrinterType.value]
                            .selectedPrinters,
                        'id'
                    )
                )
            save()
        }

        function deletePrinter(printerId: any) {
            _.remove(
                accountShow[currentSelectPrinterType.value].selectedPrinters,
                (printer: any) => {
                    return printer.id == printerId
                }
            )
            save()
        }

        ipcRenderer.on('message', function (event, arg) {
            console.log('message', arg)
            if (arg && arg == 'saas') {
                accountShow.isSaas = true
            }
            if (arg && arg == 'unis') {
                accountShow.isUnis = true
            }
            if (arg && arg.status == 2) {
                if (initCheckUpdate) {
                    initCheckUpdate = false
                } else {
                    ElMessageBox.alert(
                        'The version you are using is the latest version, no need to update!',
                        'Info'
                    )
                }
            }
            if (arg && arg.updateDownloaded) {
                isShowProgress.value = false
                progress.value = '0'
            }
            if (arg && arg.checkUpdateVersion) {
                if (!isShowProgress.value) {
                    checkForUpdate()
                }
            }
        })

        ipcRenderer.on('downloadProgress', (event, progressObj) => {
            console.log('downloadProgress', progressObj)
            // progressObj = progressObj
            // 可自定义下载渲染效果  比如下载进度
            isShowProgress.value = true
            progress.value = progressObj.percent.toFixed(2)
        })

        ipcRenderer.on('isUpdateNow', (event, versionInfo) => {
            // 自定义选择效果，效果自行编写 tip是我在 latest.yml 中手动添加的更新内容提示
            // 用的element-ui 可自行安装
            console.log('versionInfo', versionInfo)
            ElMessageBox.confirm(
                'Discover a new version, Whether the update is ready?',
                'Info',
                {
                    confirmButtonText: 'Yes',
                    cancelButtonText: 'No',
                    type: 'info',
                }
            )
                .then(() => {
                    isShowProgress.value = true
                    ipcRenderer.send('updateNow')
                })
                .catch(() => {
                    console.log('取消')
                })
        })

        function checkForUpdate() {
            ipcRenderer.send('checkForUpdate')
        }

        function changeTheme(type: any) {
            if (type == 'dark' && !accountShow.isLight) {
                return
            }
            if (type == 'light' && accountShow.isLight) {
                return
            }
            accountShow.isLight = !accountShow.isLight
            let rot
            let link: any = document.getElementById('variationsCss')
            if (accountShow.isLight) {
                rot = './variations-white.css'
            } else {
                rot = './variations-black.css'
            }
            ipcRenderer.invoke('dark-mode')
            link.href = rot
        }

        function isSelectedPrinter(printerId: any) {
            let selectedPrinterIds = _.map(
                accountShow[currentSelectPrinterType.value].selectedPrinters,
                'id'
            )
            return _.includes(selectedPrinterIds, printerId)
        }

        function changePrinterType(type: any) {
            currentSelectPrinterType.value = type
            if(type == 'scale') {
                accountShow['availableSelectScales'] = cache.getCache("scales");
            }
        }

        function getPublicIP() {
            const ifaces: any = os.networkInterfaces();

            let en0 = ref<any>('');
            if (ifaces["WLAN"]) {
                let row = _.find(ifaces["WLAN"], (o: any) => _.startsWith(o.address, "192."));
                if (row) {
                    en0 = row.address
                }
            }

            Object.keys(ifaces).forEach((ifname) => {
                let alias = 0

                ifaces[ifname].forEach(function (iface: any) {
                    if ('IPv4' !== iface.family || iface.internal !== false) {
                        // skip over internal (i.e. 127.0.0.1) and non-ipv4 addresses
                        return
                    }

                    ips.value.unshift(iface.address);
                    if (en0.value) return;

                    if (alias >= 1) {
                        // this single interface has multiple ipv4 addresses
                        en0 = iface.address
                        console.log(ifname + ':' + alias, iface.address)
                    } else {
                        // this interface has only one ipv4 adress
                        console.log(ifname, iface.address)
                        en0 = iface.address
                    }
                    ++alias
                })
            })
            return en0
        }

        function showLog() {
            isShowLog.value = true;
        }

        function openAutoSorting(){
          router.push('/autoSortingMain')
        }

        let ipQrCode = ref<any>({});
        function buildIPQrCode(val: string) {
            let res = reactive<{ payUrl: string; size: number }>({
                payUrl: '{ip:' + val + ', name:' + os.hostname() + '}',
                size: 128,
            });
            ipQrCode.value = res;
        }

        ip.value = getPublicIP();
        buildIPQrCode(ip.value);

        onMounted(async () => {
            checkForUpdate()
            accountShow.isLSO = process.env.VUE_APP_LSO ? process.env.VUE_APP_LSO : false;
            setTimeout(async () => {
                ipcRenderer.send('refershHomePage');

                const data: any = []
                let states = cache.getCache('printers')
                // if (!states) {
                states = await ipcRenderer.invoke('getPrinters')
                console.log('states', states)
                // }
                logs.value.unshift(`${new Date().toLocaleString()}: 获取打印机-${states}`)
                states.forEach((printer: any, index: any) => {
                    data.push({
                        printerName: printer.name,
                        id: printer.name,
                        isLocal: true,
                    })
                })
                accountShow.availableSelectPrinters = data //可选择的打印机对象
                let userHome = cache.getCache('userHome')
                logs.value.unshift(`${new Date().toLocaleString()}: 获取cache-${cache.getCache('userHome')}`)
                // if (!userHome) {
                userHome = await ipcRenderer.invoke('getUserHome')
                logs.value.unshift(`${new Date().toLocaleString()}: 获取本地home-${userHome}`)
                console.log('本地home', userHome)
                // }
                logs.value.unshift(`${new Date().toLocaleString()}: 使用的home目录为${userHome}`)
                fs.readFile(
                    userHome + '/printConfig.json',
                    'utf8',
                    (err, data) => {
                        if (data) {
                            console.log('web读取成功2', data)
                            let config = JSON.parse(data)
                            accountShow['pdf'].selectedPrinters =
                                config.selectedPdfPrinters || []
                            accountShow['zpl'].selectedPrinters =
                                config.selectedZplPrinters || []
                            cache.setCache('printConfig', config)
                            console.log(cache.getCache('printConfig'))
                            logs.value.unshift(`${new Date().toLocaleString()}: 读取打印机成功: ${data}`)
                        } else {
                            console.log('web读取失败', err)
                            logs.value.unshift(`${new Date().toLocaleString()}: 读取打印机失败: ${err}`)
                            fs.writeFile(
                                userHome + '/printConfig.json',
                                '{}',
                                (err) => {
                                    if (err) {
                                        console.log('web创建失败', err)
                                        logs.value.unshift(`${new Date().toLocaleString()}: 创建打印机列表失败-${err}`)
                                    } else {
                                        console.log('web创建成功')
                                        logs.value.unshift(`${new Date().toLocaleString()}: 创建打印机列表成功`)
                                    }
                                }
                            )
                        }
                    }
                )
            }, 1000)
        })

        onBeforeUnmount(() => {
            ipcRenderer.removeAllListeners('message');
            ipcRenderer.removeAllListeners('downloadProgress');
            ipcRenderer.removeAllListeners('isUpdateNow');
            ipcRenderer.removeAllListeners('SocketConnectComplete');
            ipcRenderer.removeAllListeners('SocketConnectSuccess');
            ipcRenderer.removeAllListeners('SocketDisConnect');
            ipcRenderer.removeAllListeners('installationDate');
        });
        //=======================

        // accountShow.isUnis = true;
        let isConnectToSocket = ref<boolean>(false);
        let socketConnecting = ref<boolean>(false);
        let socketConnected = ref<boolean>(false);
        let facilitySearching = ref<boolean>(false);
        let facilities = ref<any>([]);
        let selFacility = ref<any>('');
        let installationDate = ref<any>('');

        function initSocket() {
            if (!accountShow.isUnis) return;

            let socketConfig = cache.getCache('socketConfig') || {};
            isConnectToSocket.value = socketConfig.isConnectToSocket || false;
            selFacility.value = socketConfig.selFacility;

            if (isConnectToSocket.value) {
                checkFacilities();
                connectSocket();
            }
        }
        setTimeout(initSocket, 3000);

        async function checkFacilities() {
            if (_.isEmpty(facilities.value)) {
                facilitySearching.value = true;
                let res = await ipcRenderer.invoke('getFacilities');
                facilities.value = res;
                facilitySearching.value = false;
            }

            let socketConfig = cache.getCache('socketConfig') || {};
            socketConfig.isConnectToSocket = isConnectToSocket.value;
            cache.setCache('socketConfig', socketConfig);

            setTimeout(function () {
                if (!isConnectToSocket.value) {
                    ipcRenderer.invoke('DisConnectSocket');
                }
            }, 1000);
        }

        ipcRenderer.on('SocketConnectComplete', function (event, arg) {
            socketConnecting.value = false;
            console.log("SocketConnectComplete");
        });
        ipcRenderer.on('SocketConnectSuccess', function (event, arg, arg2) {
            socketConnecting.value = false;
            socketConnected.value = true;
            console.log("SocketConnectSuccess", arg, arg2);
        });
        ipcRenderer.on('SocketDisConnect', function (event, arg, arg2) {
            socketConnecting.value = false;
            socketConnected.value = false;
            console.log("SocketDisConnect", arg, arg2);
        });

        ipcRenderer.on('installationDate', (event, time) => {
            console.log('installationDate', time)
            installationDate.value = time
        })


        function connectSocket() {
            if (_.isEmpty(selFacility.value)) {
                return;
            }

            let socketConfig = cache.getCache('socketConfig') || {};
            socketConfig.isConnectToSocket = isConnectToSocket.value;
            socketConfig.selFacility = selFacility.value;
            cache.setCache('socketConfig', socketConfig);

            socketConnecting.value = true;
            ipcRenderer.invoke('ConnectSocket', selFacility.value);
        }

        const changeEnvironment = () => {
            let environment = _.find(environments.value, { label: defaultEnvironmentLabel.value });
            if (environment) {
                cache.setCache('environment', environment);
                facilities.value = [];
                isConnectToSocket.value = false;
                selFacility.value = '';
                checkFacilities();
                // connectSocket();
            }
        }


        return {
            addPrinter,
            accountShow,
            deletePrinter,
            progress,
            isShowProgress,
            setDefalutPrinter,
            setDefalutScale,
            changeTheme,
            buildIPQrCode,
            currentSelectPrinterType,
            changePrinterType,
            isSelectedPrinter,
            ip,
            ips,
            ipQrCode,
            showLog,
            logs,
            isShowLog,
            openAutoSorting,
            connectSocket,
            isConnectToSocket,
            socketConnecting,
            socketConnected,
            checkFacilities,
            facilitySearching,
            facilities,
            selFacility,
            installationDate,
            environments,
            defaultEnvironmentLabel,
            changeEnvironment
        }
    },
})
</script>

<style scoped>
.connected {
    height: 20px;
    width: 20px;
    margin-right: 5px;
    background-repeat: no-repeat;
    background: url('data:image/png;base64,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');
    background-size: 20px 20px;
}
</style>
